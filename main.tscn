[gd_scene load_steps=17 format=3 uid="uid://bd7vqcj24b7hc"]

[ext_resource type="Script" path="res://Player.gd" id="1_12bbq"]
[ext_resource type="Texture2D" uid="uid://c2wuea3tcboo5" path="res://icon.svg" id="2_14qcu"]
[ext_resource type="Script" path="res://enemy.gd" id="3_k2aq0"]
[ext_resource type="Script" path="res://Components/Character Components/StateMachine/States/idle.gd" id="4_u4qe2"]
[ext_resource type="Script" path="res://Components/Character Components/StateMachine/StateMachine.gd" id="4_wvaqc"]
[ext_resource type="Script" path="res://Components/Character Components/StateMachine/States/follow.gd" id="6_3x5y4"]
[ext_resource type="PackedScene" uid="uid://beb11nuwbqlkp" path="res://Templates/GUI/UISettingsMenu/settings.tscn" id="7_0b37b"]
[ext_resource type="Script" path="res://addons/shaker/src/Vector2/shaker_component2D.gd" id="7_h6tj5"]
[ext_resource type="Script" path="res://addons/shaker/data/Vector2/BaseShakerType2D.gd" id="8_e6kl0"]
[ext_resource type="Script" path="res://addons/shaker/data/Single/BaseShakerType1D.gd" id="10_b6mwe"]
[ext_resource type="Script" path="res://addons/shaker/data/Vector2/ShakerTypeSineWave2D.gd" id="11_fgofb"]
[ext_resource type="Script" path="res://addons/shaker/data/Vector2/ShakerPreset2D.gd" id="11_s70vp"]

[sub_resource type="CircleShape2D" id="CircleShape2D_jif0q"]
radius = 58.0345

[sub_resource type="CircleShape2D" id="CircleShape2D_7fu37"]
radius = 58.0345

[sub_resource type="Resource" id="Resource_37vmu"]
script = ExtResource("11_fgofb")
frequency = Vector2(1, 1)
phase = Vector2(1, 1)
amplitude = Vector2(1, 1)
offset = Vector2(0, 0)
BlendingMode = 0
fade_in = 0.0
fade_out = 0.0
start_percent = 0.0
end_percent = 1.0
_temp_graph = false
bake_internal = 64

[sub_resource type="Resource" id="Resource_3y5j2"]
script = ExtResource("11_s70vp")
PositionShake = Array[ExtResource("8_e6kl0")]([])
RotationShake = Array[ExtResource("10_b6mwe")]([])
ScaleShake = Array[ExtResource("8_e6kl0")]([SubResource("Resource_37vmu")])
bake_internal = 64
__follow_timeline = false

[node name="Main" type="Node2D"]

[node name="Player" type="CharacterBody2D" parent="." groups=["Player"]]
position = Vector2(-0.199912, -39.1521)
collision_mask = 6
motion_mode = 1
safe_margin = 144.887
script = ExtResource("1_12bbq")

[node name="Sprite2D" type="Sprite2D" parent="Player"]
texture = ExtResource("2_14qcu")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(-1, -1)
shape = SubResource("CircleShape2D_jif0q")

[node name="Enemy" type="CharacterBody2D" parent="."]
position = Vector2(698.904, 453.562)
collision_layer = 8
collision_mask = 7
motion_mode = 1
slide_on_ceiling = false
script = ExtResource("3_k2aq0")
SPEED = 100.0

[node name="Sprite2D" type="Sprite2D" parent="Enemy"]
self_modulate = Color(1, 0.0156863, 0.254902, 1)
texture = ExtResource("2_14qcu")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy"]
shape = SubResource("CircleShape2D_7fu37")

[node name="StateMachine" type="Node" parent="Enemy" node_paths=PackedStringArray("initial_state")]
script = ExtResource("4_wvaqc")
initial_state = NodePath("idle")

[node name="idle" type="Node" parent="Enemy/StateMachine" node_paths=PackedStringArray("character", "player")]
script = ExtResource("4_u4qe2")
character = NodePath("../..")
player = NodePath("../../../Player")

[node name="follow" type="Node" parent="Enemy/StateMachine" node_paths=PackedStringArray("character", "player")]
script = ExtResource("6_3x5y4")
character = NodePath("../..")
player = NodePath("../../../Player")
move_speed = 20.0

[node name="StateLabel" type="Label" parent="Enemy"]
offset_left = -82.0
offset_top = -93.0
offset_right = 92.0
offset_bottom = -70.0
text = "Null
"
horizontal_alignment = 1
vertical_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="ShakerComponent2D" type="Node2D" parent="Enemy" node_paths=PackedStringArray("Targets")]
rotation = 3.14159
scale = Vector2(0.793709, 1.09754)
script = ExtResource("7_h6tj5")
custom_target = true
Targets = [NodePath("..")]
AutoPlay = true
intensity = 0.637
shake_speed = 0.96
shakerPreset = SubResource("Resource_3y5j2")

[node name="Control" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 1152.0
offset_bottom = 648.0

[node name="Settings" parent="Control" instance=ExtResource("7_0b37b")]
layout_mode = 1
